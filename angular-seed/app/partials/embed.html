<form name="editorForm">
    <div class="source">
        <div class="slight-buttons pull-right toolbar">
            <span ng-show="getActiveFile()">
                <span class="btn" title="Add new template" ng-click="newFile()">
                    <i class="icon-plus"></i>
                </span>
                <span class="btn" title="Rename current template" ng-click="editFileName(getActiveFile())">
                    <i class="icon-edit"></i>
                </span>
                <span class="btn" title="Delete current template" ng-click="removeFile(getActiveFile())">
                    <i class="icon-remove"></i>
                </span>
                <span class="btn" title="Set current template as main entry" ng-click="setMain(getActiveFile())"
                      ng-hide="getActiveFile().isMain">
                    <i class="icon-heart"></i>
                </span>
            </span>
            <span ng-hide="getActiveFile()" class="btn pull-right" ng-click="run()">
                <i class="icon-play"></i>&nbsp;&nbsp;Run again
            </span>
        </div>
        <tabs>
            <pane heading="<i class='icon-eye-open'></i> Result" active="$parent.toRun">
                <div ng-show="result.error">
                    <pre class="template_error">{{result.error}}</pre>
                </div>
                <div ng-hide="result.error">
                    <pre>{{result.renderedCode}}</pre>
                </div>
            </pane>
            <pane ng-repeat="file in currentCode.files" active="file.active"
                  heading="<i class='icon-file-alt'></i> {{ file.filename || '...' }} {{file.isMain && '(*)' || '' }}">
            </pane>
        </tabs>
        <div ng-show="getActiveFile()">
            <div class="edit_panel form-inline" ng-show="getActiveFile().editing">
                <form class="form-inline">
                    <input type="text" class="input-small" ng-model="getActiveFile().editName" autofocus="{{getActiveFile().editing}}"/>
                    <button class="btn" ng-click="saveFileName(getActiveFile())"><i class="icon-ok"></i>
                    </button>
                    <span class="btn" ng-click="cancelEditFileName(getActiveFile())">
                        <i class="icon-remove"></i>
                    </span>
                </form>
            </div>
            <textarea ui-codemirror="{theme:'lesser-dark','lineNumbers': true}"
                      name="codeSource" ui-refresh="getActiveFile().active"
                      ng-model="getActiveFile().source" ui-keypress="{'ctrl-enter':'run($event)'}"></textarea>
        </div>
    </div>
</form>
<div ng-show="getActiveFile()">
    <form name="paramsForm" title="type in JSON parameter here">
        <div class="params">
            <textarea ui-codemirror="{theme:'lesser-dark'}" name="codeParams" ng-model="currentCode.params"
                      placeholder="Params in Json format"></textarea>
        </div>
    </form>
    <div class="alert alert-info">Note: you can use
        <code>String</code>,<code>Integer</code>,<code>Boolean</code> and most other JDK classes as argument
        types
    </div>
</div>